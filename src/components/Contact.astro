---
import { useI18n } from "../i18n/i18n";
import { CONTACT_INFO } from "../constants/contact";

const t = useI18n(Astro);
---

<section id="contacto" class="py-20 bg-[#1e1c1d]">
  <div class="container mx-auto px-4">
    <h2
      class="text-4xl font-bold text-center text-white mb-12 opacity-0"
      id="contactTitle"
    >
      {t("contact.title")}
    </h2>

    <div class="grid grid-cols-1 md:grid-cols-2 gap-12 items-center">
      <div class="contact-info opacity-0">
        <div class="p-8">
          <h3 class="text-2xl font-semibold text-[#0197d5] mb-6">
            {t("contact.subtitle")}
          </h3>

          <div class="space-y-6">
            <a
              href={CONTACT_INFO.PHONE.WHATSAPP_URL}
              target="_blank"
              rel="noopener noreferrer"
              class="flex items-center text-white hover:text-[#0197d5] transition-colors group"
              aria-label={t("aria.social.whatsapp")}
            >
              <i
                class="fab fa-whatsapp text-3xl mr-4 text-[#0197d5] group-hover:scale-110 transition-transform"
                aria-hidden="true"
              ></i>
              <span>WhatsApp: {CONTACT_INFO.PHONE.DISPLAY}</span>
            </a>

            <a
              href={CONTACT_INFO.SOCIAL_MEDIA.INSTAGRAM.URL}
              target="_blank"
              rel="noopener noreferrer"
              class="flex items-center text-white hover:text-[#0197d5] transition-colors group"
              aria-label={t("aria.social.instagram")}
            >
              <i
                class="fab fa-instagram text-3xl mr-4 text-[#0197d5] group-hover:scale-110 transition-transform"
                aria-hidden="true"
              ></i>
              <span>Instagram: @{CONTACT_INFO.SOCIAL_MEDIA.INSTAGRAM.USERNAME}</span>
            </a>

            <a
              href={CONTACT_INFO.SOCIAL_MEDIA.TIKTOK.URL}
              target="_blank"
              rel="noopener noreferrer"
              class="flex items-center text-white hover:text-[#0197d5] transition-colors group"
              aria-label={t("aria.social.tiktok")}
            >
              <i
                class="fab fa-tiktok text-3xl mr-4 text-[#0197d5] group-hover:scale-110 transition-transform"
                aria-hidden="true"
              ></i>
              <span>TikTok: @{CONTACT_INFO.SOCIAL_MEDIA.TIKTOK.USERNAME}</span>
            </a>

            <div class="flex items-center text-white group">
              <i class="fas fa-map-marker-alt text-3xl mr-4 text-[#0197d5]" aria-hidden="true"></i>
              <span>{t("contact.address")}</span>
            </div>

            <div class="flex items-center text-white group">
              <i class="fas fa-clock text-3xl mr-4 text-[#0197d5]" aria-hidden="true"></i>
              <span>{t("contact.schedule")}</span>
            </div>
          </div>
        </div>
      </div>

      <div class="map-container opacity-0 h-[400px] rounded-lg overflow-hidden">
        <iframe
          src={CONTACT_INFO.ADDRESS.GOOGLE_MAPS_EMBED}
          width="100%"
          height="100%"
          style="border:0;"
          loading="lazy"
          referrerpolicy="no-referrer-when-downgrade"
          title={t("aria.location.map")}
          class="rounded-lg"
        ></iframe>
      </div>
    </div>
  </div>
</section>

<script>
  import { gsap } from "gsap";
  import { ScrollTrigger } from "gsap/ScrollTrigger";

  document.addEventListener("DOMContentLoaded", () => {
    gsap.registerPlugin(ScrollTrigger);

    gsap.to("#contactTitle", {
      scrollTrigger: {
        trigger: "#contactTitle",
        start: "top 80%",
      },
      y: 0,
      opacity: 1,
      duration: 1,
    });

    gsap.to(".contact-info", {
      scrollTrigger: {
        trigger: ".contact-info",
        start: "top 80%",
      },
      x: 0,
      opacity: 1,
      duration: 1,
    });

    gsap.to(".map-container", {
      scrollTrigger: {
        trigger: ".map-container",
        start: "top 80%",
      },
      x: 0,
      opacity: 1,
      duration: 1,
    });
  });
</script>
